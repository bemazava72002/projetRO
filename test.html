<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="bootstrap.min.css">
    <script src="d3.v5.min.js"></script>
</head>
<body class="container mt-4">
    <h2 class="text-center">Algorithme de Demoucron - Minimisation</h2>

    <!-- Ajout de sommets -->
    <div class="mb-3">
        <label class="form-label">Ajouter un sommet :</label>
        <input type="text" id="sommetInput" class="form-control" placeholder="Nom du sommet">
        <button class="btn btn-primary mt-2" onclick="ajouterSommet()">Ajouter</button>
    </div>

    <h4>Sommets :</h4>
    <ul id="sommetsList" class="list-group mb-3"></ul>

    <!-- Ajout d'arcs -->
    <h4>Ajouter un arc :</h4>
    <div class="row">
        <div class="col">
            <select id="arcDepart" class="form-control"></select>
        </div>
        <div class="col">
            <select id="arcArrivee" class="form-control"></select>
        </div>
        <div class="col">
            <input type="number" id="arcValeur" class="form-control" placeholder="Poids">
        </div>
        <div class="col">
            <button class="btn btn-success" onclick="ajouterArc()">Ajouter Arc</button>
        </div>
    </div>
    <h4>Arcs :</h4>
    <ul id="arcList" class="list-group mb-3"></ul>

    <!-- Bouton d'exÃ©cution -->
    <button class="btn btn-danger mt-3" onclick="demoucron()">Lancer l'algorithme</button>

    <!-- Matrices -->
    <h4 class="mt-4">Tableaux des Matrices :</h4>
    <div id="matrices"></div>

    <!-- Graphes -->
    <h4>Graphe Initial :</h4>
    <div id="graphInitial" style="height: 400px; border: 1px solid #ddd;"></div>

    <h4 class="mt-4">Graphe du Chemin Optimal :</h4>
    <div id="graphFinal" style="height: 400px; border: 1px solid #ddd;"></div>
    <script>
let sommets = [];
let arcs = [];
let matrice = [];

function ajouterSommet(){

   let som = document.getElementById('sommetInput').value.trim();

    if(som && !sommets.includes(som)){

        sommets.push(som);
        document.getElementById('sommetInput').value = "";
        misajour();

    }
}

function misajour(){
    let selectArDebu = document.getElementById('arcDepart');
    let selectArAriv = document.getElementById('arcArrivee');

    selectArDebu.innerHTML = "";
    selectArAriv.innerHTML = "";

    sommets.forEach(s=>{
        selectArDebu.innerHTML+=`<option value ="${s}">${s}</option> `;
        selectArAriv.innerHTML+=`<option value="${s}">${s}</option>`;
    })
}

function ajouterArc(){

  let  depart = document.getElementById('arcDepart').value;
   let arrivee = document.getElementById('arcArrivee').value;
   let poids = parseInt(document.getElementById('arcValeur').value,10);

    if(depart && arrivee &&  !isNaN(poids)){

        arcs.push({depart,arrivee,poids});
        document.getElementById('arcValeur').value = "";

        afficheArc();


    }
}
function afficheArc(){
    let view = document.getElementById('arcList');
    view.innerHTML = "";
    arcs.forEach(arc=>{
        view.innerHTML+=`<li class="list-group-item">${arc.depart}->${arc.arrivee}:${arc.poids}</li>`
    })
}

function initialiseMatrice(){
    const n = sommets.length;
    matr = Array.from({length:n},()=>Array(n).fill(Infinity))

    arcs.forEach(ar=>{
        const i = sommets.indexOf(ar.depart);
        const j = sommets.indexOf(arrivee);
        matr[i][j] = ar.poids;
    })
    for(let i = 0;i<n;i++) matr[i][i] = Infinity;

}

function getChemin(suivant,i,j){
   
    let chemin = [i];
    while(i!==j){
        i = suivant[i][j];
        chemin.push(i);
        
    }
    return chemin;
}
function demoucron_min(){
initialiseMatrice();
const n = sommets.length;

    
}




    </script>
</body>
</html>